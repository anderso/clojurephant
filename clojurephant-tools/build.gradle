plugins {
  id 'dev.clojurephant.clojure'
  id 'maven-publish'
}

dependencies {
  // gradle
  compileOnly gradleApi()

  // clojure runtime
  compileOnly 'org.clojure:clojure:1.10.1'
  compileOnly 'org.clojure:clojurescript:1.10.773'
  compileOnly 'nrepl:nrepl:0.8.3'
  compileOnly 'com.bhauman:figwheel-main:0.2.12'
  compileOnly 'junit:junit:4.13.1'
}

publishing {
  publications {
    main(MavenPublication) {
      from components.java
      artifact sourcesJar
    }
  }
}

compileClojure {
  // prevent it from trying to compile (since there's a circular dependency)
  namespaces = []
}

checkClojure {
  // prevent it from trying to compile (since there's a circular dependency)
  enabled = false
}
